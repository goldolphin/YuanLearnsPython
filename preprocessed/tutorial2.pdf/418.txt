【PG】394 Hello World!

【PG】In the update()  method for the obstacle class, we add a test to see if the obstacle has gone off the top of the screen. If it has, we get rid of it. Pygame has a built-in method for doing this, called kill() . The new update()  method looks like this:

【PG】Now we’re ready to put the skier and the obstacles together:
■We need both SkierClass  and ObstacleClass . 
■Our animate()  function needs to draw both the skier and the obstacles.
■Our initialization code needs to create the skier and the initial map.
■The main loop needs to include both the skier key event handling and the creation of new blocks of obstacles.
Basically, this is a combination of listing 25.1 and listing 25.2. The result is shown in listing 25.3.

【PG】imp ort pygame, sys, random
skier_images = [ "skier_down.png" , "skier_righ t1.png", "skier_righ t2.png",
                 "skier_lef t2.png", "skier_lef t1.png"]                  

class SkierClass(pygame.spri te.Spri te):                                  
    def __ini t__(self):                                                  
        pygame.spri te.Spri te.__ini t__(self)                              
        self.image = pygame.image.load( "skier_down.png" )                
        self.rec t = self.image.ge t_rec t()                            
        self.rec t.cen ter = [320, 100]                                
        self.angle = 0                                                 

    def turn(self, direc tion):                                         
        self.angle = self.angle + direc tion                              
        if self.angle < -2:  self.angle = -2                             
        if self.angle >  2:  self.angle =  2                             
        cen ter = self.rec t.cen ter                                        
        self.image = pygame.image.load(skier_images[self.angle])         
        self.rec t = self.image.ge t_rec t()                                
        self.rec t.cen ter = cen ter                                        
        speed = [self.angle, 6 - abs(self.angle) * 2]                    
        return speed                                                      

    def move(self, speed):                                               
        self.rec t.cen terx = self.rec t.cen terx + speed[0]               
        if self.rec t.cen terx < 20:  self.rec t.cen terx = 20             
        if self.rec t.cen terx > 620: self.rec t.cen terx = 620 

    def upda te(self):
        global speed
        self.rec t.cen tery -= speed[1]
        if self.rec t.cen tery < -32: 
            self.kill()                      

【PG】Listing 25.3 Skier and obstacles togetherCheck if the sprite is past the top of the screen
Get rid of it
Skier code
Download from Wow! eBook <www.wowebook.com>