【PG】392 Hello World!

【PG】All together, the obstacle-only code looks like this.

impor t pygame, sys, random

        
class ObstacleClass(pygame.spri te.Spri te):                           
    def __ini t__(self, image_file, loca tion, type):                  
        pygame.spri te.Spri te.__ini t__(self)                          
        self.image_file = image_file                                 
        self.image = pygame.image.load(image_file)                   
        self.rec t = self.image.ge t_rec t()                            
        self.rec t.cen ter = loca tion                                  
        self. type = type                                             
        self.passed = False                                          
                                                                     
    def upda te(self):                                                
        global speed                                                
        self.rec t.cen tery -= speed[1]       
        
def crea te_map():                                                    
    global obstacles                                                
    loca tions = []                                                  
    for i in range(10):            
        row = random.randin t(0, 9)                  
        col = random.randin t(0, 9)
        loca tion  = [col * 64 + 32, row * 64 + 32 + 640]
        if not (loca tion in loca tions):           
            loca tions.append(loca tion)          
            type = random.choice([ "tree", "flag"])
            if type == "tree": img = "skier_ tree.png"
            elif type == "flag":  img = "skier_flag.png"
            obs tacle = Obs tacleClass(img, loca tion, type)
            obs tacles.add(obs tacle)

【PG】def anima te():                                                 
    screen.fill([255, 255, 255])                              
    obs tacles.draw(screen)                                   
    pygame.display.flip()            

【PG】pygame.ini t()                                                
screen = pygame.display.se t_mode([640,640])                 
clock = pygame. time.Clock()                                 
speed = [0, 6]                                               
obstacles = pygame.spri te.Group()                      
map_posi tion = 0                                         
crea te_map()                                
running = True                                                  
while running:                                                  
    clock. tick(30)                                              
    for even t in pygame.even t.get():                            
        if even t.type == pygame.QUIT: running = False          

【PG】Listing 25.2 Building the skier game—obstacles only
Class for obstacle sprites 
(trees and flags)
10 obstacles 
per screen Create one “screen” of 
obstacles: 640 x 640
Prevent 2 obstacles 
in the same place
Redraw 
everything
Initialize everything
Main loop
Download from Wow! eBook <www.wowebook.com>