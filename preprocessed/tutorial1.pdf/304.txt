【PG】278　　第 20章　更多 GUI
import sys
from PyQt4 import QtCore, QtGui, uic
form_class = uic.loadUiType("tempconv_menu.ui")[0] 
class MyWindowClass(QtGui.QMainWindow, form_class):
    def __init__(self, parent=None):
        QtGui.QMainWindow.__ini t__(self, parent)
        self.setupUi(self)        self.btn_CtoF.clicked.connect(self.btn_CtoF_clicked)       
        self.btn_FtoC.clicked.connect(self.btn_FtoC_clicked)       
        self.action_CtoF.triggered.connect(self.btn_CtoF_clicked)         self.action_FtoC.triggered.connect(self.btn_FtoC_clicked) 
        self.actionExit.triggered.connect(self.menuExit_selected)
        
    def btn_CtoF_clicked(self):
        cel = float(self.editCel.text())
        fahr = cel * 9 / 5.0 + 32
        self.spinFahr.setValue(int(fahr + 0.5))
          
    def btn_FtoC_clicked(self):
        fahr = self.spinFahr.value()
        cel = (fahr - 32) * 5 / 9.0
        self.editCel.setText(str(cel) )
        def menuExit_selected(self):      
        self.close()               
app = QtGui.QApplication(sys.argv)
myWindow = MyWindowClass(None)
myWindow.show()app.exec_() 

【PG】Exit菜单项的事
件处理器

【PG】热键
我们在前面说过， 有些人喜欢用菜单而不喜欢用按钮， 一个原因是菜单可以在不使用鼠标的情况下直接使用键盘操作。 现在，我们的菜单已经可以用鼠标来操作了，但是还不能用键盘来操作。我们需要为菜单添加热键。

热键（也叫快捷键）让你可以使用键盘来选中菜单项。在Windows和Linux下，通过Alt键来激活菜单系统。（我们会马上讲到Mac OS。）当按下Alt键时，你会看到各个菜单项中有个字母变成高亮显示了，通常会有一条下划线。划线的字母即是可以用来激活菜单的键。比如，要进入File菜单，就按Alt-F。也就是说，先按住Alt键，再按F键，即可看到File菜单中的各项，同时也可以看到每个菜单项的热键是什么。在Python Shell窗口中试一下（见右图）。

要打开一个新窗口，则使用Alt-F-N。（按下Alt键，按F键，再按N键。）

现在，我们来为温度转换GUI程序定义菜单的热键。要定义热键，只需在想让其成为热键的字母前加上&字符即可。你可以在菜单（比如File）的Title属性或者菜单项（比如Exit）的Text属性中完成。对于File菜单来说，一般使用F作为热键；对于Exit菜单项来说，一般使用X作为热键。所以将File改为&File，将Exit改为E&xit。

我们需要为Convert菜单项指定热键。我们为Convert使用C，Celsius to Fahrenheit。