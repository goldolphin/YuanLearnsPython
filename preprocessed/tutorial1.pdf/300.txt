【PG】第 20章　更多 GUI

【PG】把这个程序保存为 TempGui.py。可以运行程序，试试这个 GUI。

【PG】小改进

【PG】运行这个程序时， 你可能会注意到一点： 将华氏度转换为摄氏度时， 结果里有很多小数位， 应 该可以在文本框中去掉其中一些小数位。 要解决这个问题有一个办法，称为打印格式化（print formatting） 。我们还没有讨论到这个内容， 你可以直接跳到第21章 ，那里对打印格式化的工作给出了一个完备的解释 ，或者也可以先直接键入这里给出的代码 。用下面两行代码替换 btn_FtoC_clicked 事件处理器的最后一行 。

cel_text = ‘%.2f’ % cel
self.editCel.setText(cel_text)

【PG】这样显示一个数时会带两位小数 。

【PG】土星天王星海王星冥王星嗯……也许该调试了（debug） 。如果用户想转换南极洲的温度会怎么样呢？转换冥王星上的温度呢？嘿，我发现一个错误！

【PG】如果我在摄氏度框里输入-50，点击按钮后，应该得到华氏度-58，但是它给出的却是0。这是怎么回事？太冷了！

【PG】消灭错误

【PG】前面我们说过，要看程序中发生了什么，有一种很好的方法，就是在程序运行时打印出一些变量的值。下面就来试试看。

【PG】看起来是摄氏度到华氏度转换中的华氏度值有问题，所以就从这里开始。把下面这行代码增加到代码清单20-3中btn_CtoF_clicked事件处理器的最后一行之后：

print 'cel = ', cel, ' fahr = ', fahr

【PG】图灵社区会员 FreeLink 专享 尊重版权